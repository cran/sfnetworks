<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="date" content="2024-04-09" />

<title>5. Spatial morphers</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">5. Spatial morphers</h1>
<h4 class="date">2024-04-09</h4>



<STYLE type="text/css" scoped>
PRE.fansi SPAN {padding-top: .25em; padding-bottom: .25em};
</STYLE>
<p>In some of the previous vignettes they were already mentioned here
and there: spatial morpher functions. This vignette describes in more
detail what they are and how to use them.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(sfnetworks)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code></pre></div>
<div id="morphing-and-unmorphing" class="section level2">
<h2>Morphing and unmorphing</h2>
<p><em>Morphing</em> networks is a functionality that has its roots in
<code>tidygraph</code>. It allows you to <em>temporarily</em> change the
topology of the original network with the
<code>tidygraph::morph()</code> verb, perform some actions on this
“morphed state” of the network using <code>dplyr</code> verbs, and
finally merge the changes back into the original network with the
<code>tidygraph::unmorph()</code> verb. How the topology is changed
during morphing depends on the used <em>morpher function</em>, which you
provide to <code>tidygraph::morph()</code>.</p>
<p>You can choose between a wide range of available <em>morpher
functions</em> in <code>tidygraph</code>. The names of these functions
all start with <code>to_</code>. The <code>sfnetworks</code> package
adds a set of dedicated <em>spatial morphers</em>, having names starting
with <code>to_spatial_</code>. They will be presented later in this
vignette. Lets first show a practical example to get a better idea of
how morphing can be useful.</p>
<p>In network analysis, community detection algorithms allow you to
discover cohesive groups in networks, based on specific network
properties. There is a large offer of (wrappers around) such algorithms
in <code>tidygraph</code>, see <a href="https://tidygraph.data-imaginist.com/reference/group_graph.html">here</a>.
Most of them are intended for and can only be applied to the nodes. For
example, the often used <a href="https://en.wikipedia.org/wiki/Louvain_method">Louvain
algorithm</a>, that seeks to optimize <a href="https://en.wikipedia.org/wiki/Modularity_(networks)">modularity</a>
of the partition.</p>
<p>But what if we want to detect communities within <em>edges</em>?
Then, the <code>tidygraph::to_linegraph()</code> morpher comes in handy.
It converts a network into its linegraph, where nodes become edges and
edges become nodes. That is, we can morph the network into its
linegraph, run the community detection algorithm on the <em>nodes</em>
of the morphed state, attach to each node information about the group it
is assigned to, and automatically merge those changes back into the
<em>edges</em> of the original network.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>net <span class="ot">=</span> <span class="fu">as_sfnetwork</span>(roxel, <span class="at">directed =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">3035</span>)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>grouped_net <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  <span class="fu">morph</span>(to_linegraph) <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">group_louvain</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  <span class="fu">unmorph</span>()</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>grouped_net</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; <span style="color: #555555;"># A sfnetwork with</span> <span style="color: #555555;">701</span> <span style="color: #555555;">nodes and</span> <span style="color: #555555;">851</span> <span style="color: #555555;">edges
#&gt; #
#&gt; # CRS: </span> <span style="color: #555555;">EPSG:3035</span> <span style="color: #555555;">
#&gt; #
#&gt; # An undirected multigraph with 14 components with spatially explicit edges
#&gt; #
#&gt; # A tibble: 701 × 1</span>
#&gt;            geometry
#&gt;         <span style="color: #555555; font-style: italic;">&lt;POINT [m]&gt;</span>
#&gt; <span style="color: #555555;">1</span> (4151491 3207923)
#&gt; <span style="color: #555555;">2</span> (4151474 3207946)
#&gt; <span style="color: #555555;">3</span> (4151398 3207777)
#&gt; <span style="color: #555555;">4</span> (4151370 3207673)
#&gt; <span style="color: #555555;">5</span> (4151408 3207539)
#&gt; <span style="color: #555555;">6</span> (4151421 3207592)
#&gt; <span style="color: #555555;"># ℹ 695 more rows</span>
#&gt; <span style="color: #555555;">#
#&gt; # A tibble: 851 × 6</span>
#&gt;    from    to name                  type                          geometry group
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;LINESTRING [m]&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span>
#&gt; <span style="color: #555555;">1</span>     1     2 Havixbecker Strasse   residential (4151491 3207923, 4151474…    17
#&gt; <span style="color: #555555;">2</span>     3     4 Pienersallee          secondary   (4151398 3207777, 4151390…     1
#&gt; <span style="color: #555555;">3</span>     5     6 Schulte-Bernd-Strasse residential (4151408 3207539, 4151417…     1
#&gt; <span style="color: #555555;"># ℹ 848 more rows</span>
</CODE></PRE>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># The algorithm detected 34 communities.</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>grouped_net <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="fu">pull</span>(group) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="fu">length</span>()</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt; [1] 34</span></span></code></pre></div>
<p>In all grouping functions in <code>tidygraph</code>, the group index
<code>1</code> belongs the largest group, the index <code>2</code> to
the second largest group, et cetera. Lets plot only the first third of
the 34 groups, to keep the plot clear.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(net, <span class="st">&quot;edges&quot;</span>), <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">lwd =</span> <span class="fl">0.5</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>grouped_net <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  <span class="fu">st_as_sf</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="fu">transmute</span>(<span class="at">group =</span> <span class="fu">as.factor</span>(group)) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  <span class="fu">filter</span>(group <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">lwd =</span> <span class="dv">4</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Another application of the <code>tidygraph::to_linegraph()</code>
morpher is to find “cut edges” in the network. These are edges that
break the connectivity of a connected component when they are removed.
Hence, they have a crucial function in preserving the connectivity of a
network.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>new_net <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_cut =</span> <span class="fu">node_is_cut</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="fu">morph</span>(to_linegraph) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_cut =</span> <span class="fu">node_is_cut</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  <span class="fu">unmorph</span>()</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>cut_nodes <span class="ot">=</span> new_net <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;nodes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>  <span class="fu">filter</span>(is_cut) <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>  <span class="fu">st_geometry</span>()</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>cut_edges <span class="ot">=</span> new_net <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>  <span class="fu">filter</span>(is_cut) <span class="sc">%&gt;%</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>  <span class="fu">st_geometry</span>()</span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Cut nodes&quot;</span>)</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="fu">plot</span>(cut_nodes, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">cex =</span> <span class="dv">2</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Cut edges&quot;</span>)</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="fu">plot</span>(cut_edges, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">4</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" width="50%" /><img src="data:image/png;base64,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" width="50%" /></p>
<p>Internally, a morphed state of a network is a list, in which each
element is a network on its own. Some morphers create a list with only a
single element, like the linegraph example above, while others create a
list with multiple elements. For example, the
<code>tidygraph::to_components()</code> morpher splits the original
network into its unconnected components, storing each component as a
separate network in the list.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>morphed_net <span class="ot">=</span> <span class="fu">morph</span>(net, to_components)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>morphed_net</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; <span style="color: #555555;"># A sfnetwork temporarily morphed to a components representation 
#&gt; #  
#&gt; # Original graph is an undirected multigraph with 14 components 
#&gt; # consisting of 701 nodes and 851 edges 
#&gt; # with CRS EPSG:3035 
#&gt; </span>
</CODE></PRE>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">class</span>(morphed_net)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt; [1] &quot;morphed_sfnetwork&quot; &quot;morphed_tbl_graph&quot; &quot;list&quot;</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="fu">length</span>(morphed_net)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt; [1] 14</span></span></code></pre></div>
<p>All dplyr verbs for which a tbl_graph method exists can also be
applied to a morphed state. Technically, that means that the same
operation is applied to each element in the list. In
<code>sfnetworks</code>, it is also possible to use
<code>sf::st_join()</code> and <code>sf::st_filter()</code> on morphed
states of networks.</p>
<p>The mapping back to the original network is stored in
<em>.tidygraph_node_index</em> and <em>.tidygraph_edge_index</em>
columns, for nodes and edges respectively. These columns contain the
indices (i.e. rownumber) of the original nodes and edges. During
unmorphing these indices are used to join the changes made in the
morphed state back into the original network. A
<code>dplyr::left_join()</code> semantic is applied here. That means
that the network has the <em>same</em> number of nodes and edges after
unmorphing as it had before morphing, no matter if either the morpher
function or the subsequent operations on the morphed state added or
removed any nodes or edges. Whenever an original node or edge index
occurs more than once in a morphed state, only the information added to
its first instance is merged back into the original network.</p>
</div>
<div id="converting" class="section level2">
<h2>Converting</h2>
<p>Morphing is meant to make <em>temporary</em> changes to your network.
However, what if you want to make <em>lasting</em> changes? Good news!
The <em>same</em> morpher functions that are used for temporary
conversions during morphing can be used for lasting conversions when you
provide them to the <code>tidygraph::convert()</code> verb instead. In
that case, the morphed state of the original network will be returned as
a new network itself. This is mainly meant for those morpher functions
that produce a morphed state with a <em>single</em> element. For example
converting the network into its complement, where nodes are connected
only if they were not connected in the original graph.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">convert</span>(net, to_complement)</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; <span style="color: #555555;"># A sfnetwork with</span> <span style="color: #555555;">701</span> <span style="color: #555555;">nodes and</span> <span style="color: #555555;">244503</span> <span style="color: #555555;">edges
#&gt; #
#&gt; # CRS: </span> <span style="color: #555555;">EPSG:3035</span> <span style="color: #555555;">
#&gt; #
#&gt; # An undirected simple graph with 1 component with spatially implicit edges
#&gt; #
#&gt; # A tibble: 701 × 2</span>
#&gt;            geometry .tidygraph_node_index
#&gt;         <span style="color: #555555; font-style: italic;">&lt;POINT [m]&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;int&gt;</span>
#&gt; <span style="color: #555555;">1</span> (4151491 3207923)                     1
#&gt; <span style="color: #555555;">2</span> (4151474 3207946)                     2
#&gt; <span style="color: #555555;">3</span> (4151398 3207777)                     3
#&gt; <span style="color: #555555;">4</span> (4151370 3207673)                     4
#&gt; <span style="color: #555555;">5</span> (4151408 3207539)                     5
#&gt; <span style="color: #555555;">6</span> (4151421 3207592)                     6
#&gt; <span style="color: #555555;"># ℹ 695 more rows</span>
#&gt; <span style="color: #555555;">#
#&gt; # A tibble: 244,503 × 2</span>
#&gt;    from    to
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span>
#&gt; <span style="color: #555555;">1</span>     1   701
#&gt; <span style="color: #555555;">2</span>     1   700
#&gt; <span style="color: #555555;">3</span>     1   699
#&gt; <span style="color: #555555;"># ℹ 244,500 more rows</span>
</CODE></PRE>
<p>The internally created <em>.tidygraph_node_index</em> and/or
<em>.tidygraph_edge_index</em> columns are present in the network
returned by <code>tidygraph::convert()</code>. If you rather don’t have
that, set <code>.clean = TRUE</code>.</p>
<p>Whenever the morphed state consists of <em>multiple</em> elements,
only one of them is returned as the new network. By default that is the
first one, but you can pick an element yourself by setting the
<code>.select</code> argument, e.g. <code>.select = 2</code>.</p>
</div>
<div id="spatial-morphers" class="section level2">
<h2>Spatial morphers</h2>
<p>A lot of morpher functions are offered by <code>tidygraph</code>. See
the overview of them <a href="https://tidygraph.data-imaginist.com/reference/morphers.html">here</a>.
Most of them should work without problems on sfnetworks, and can be
useful for spatial network analysis. On top of that offer,
<code>sfnetworks</code> adds some additional <em>spatial morphers</em>
that fit use-cases for which <code>tidygraph</code> does not have an
implemented morpher function. See the overview of them <a href="https://luukvdmeer.github.io/sfnetworks/reference/spatial_morphers.html">here</a>.
Below they will all be shortly introduced.</p>
<div id="to_spatial_contracted" class="section level3">
<h3>to_spatial_contracted</h3>
<p>The <code>to_spatial_contracted()</code> morpher groups nodes based
on given grouping variables, and merges each group of nodes into a
single, new node. The geometry of this new node will be the centroid of
the geometries of all group members. Edges that were incidents to any of
the group members are updated such that they are now incident to the new
node. Their boundaries are updated accordingly to preserve the valid
spatial network structure. The morphed state contains a single
sfnetwork.</p>
<p>To create the groups of nodes, the morpher accepts grouping variables
as <code>...</code> argument. These will be evaluated in the same way as
arguments to <code>dplyr::group_by()</code>. That means you can group
the nodes based on any (combination of) attribute(s). For an example of
grouping based on a spatial clustering algorithm, see the <a href="https://luukvdmeer.github.io/sfnetworks/articles/sfn02_preprocess_clean.html#simplify-intersections">Network
pre-processing and cleaning</a> vignette.</p>
<p>A point of attention is that contraction introduces new <em>multiple
edges</em> and/or <em>loop edges</em>. Multiple edges are introduced by
contraction when there are several connections between the same groups
of nodes. Loop edges are introduced by contraction when there are
connections within a group. Setting <code>simplify = TRUE</code> will
remove the multiple and loop edges after contraction. However, note that
this also removes multiple and loop edges that already existed before
contraction.</p>
<p>The <code>to_spatial_contracted()</code> morpher gives the options to
summarise attributes of nodes in a group. By setting the
<code>summarise_attributes</code> argument you can specify on a
per-attribute basis how the attributes of the new node should be
inferred from the attributes of the group members. There are two ways to
specify the combination technique for an attribute:</p>
<ul>
<li>As a character, referring to the name of a pre-defined combination
technique in <code>igraph</code>. Examples include <code>mean</code>,
<code>sum</code>, <code>first</code> and <code>last</code>. See <a href="https://igraph.org/r/doc/igraph-attribute-combination.html">here</a>
for an overview of all implemented techniques.</li>
<li>As a function, taking a vector of attribute values as input and
returning a single value. This is helpful when you want to combine
attributes in a way that is not pre-defined in <code>igraph</code>.</li>
</ul>
<p>Providing a single character or a single function
(e.g. <code>summarise_attributes = &quot;sum&quot;</code>) will apply the same
technique to each attribute. Instead, you can provide a named list with
a different technique for each attribute. This list can also include one
unnamed element containing the technique that should be applied to all
attributes that were not referenced in any of the other elements.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>new_net <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;nodes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">group_components</span>() <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">foo =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="fu">graph_order</span>(), <span class="at">replace =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bar =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="fu">graph_order</span>(), <span class="at">replace =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">louvain =</span> <span class="fu">as.factor</span>(<span class="fu">group_louvain</span>()))</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>contracted_net <span class="ot">=</span> <span class="fu">convert</span>(</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>  new_net,</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>  to_spatial_contracted,</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>  louvain,</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>  <span class="at">simplify =</span> <span class="cn">TRUE</span>,</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>  <span class="at">summarise_attributes =</span> <span class="fu">list</span>(</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>    <span class="at">foo =</span> <span class="st">&quot;sum&quot;</span>,</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>    <span class="at">bar =</span> <span class="cf">function</span>(x) <span class="fu">any</span>(x),</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>    <span class="at">louvain =</span> <span class="st">&quot;first&quot;</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>  )</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>)</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(new_net, <span class="st">&quot;edges&quot;</span>), <span class="at">main =</span> <span class="st">&quot;Grouped nodes&quot;</span>)</span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_as_sf</span>(new_net)[<span class="st">&quot;louvain&quot;</span>], <span class="at">key.pos =</span> <span class="cn">NULL</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(contracted_net, <span class="st">&quot;edges&quot;</span>), <span class="at">main =</span> <span class="st">&quot;Contracted network&quot;</span>)</span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(contracted_net)[<span class="st">&quot;louvain&quot;</span>],</span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a>  <span class="at">cex =</span> <span class="dv">2</span>, <span class="at">key.pos =</span> <span class="cn">NULL</span>,</span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">add =</span> <span class="cn">TRUE</span></span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAAw1BMVEUAAAAAADoAAGYAOjoAOmYAOpAAZrY6AAA6OgA6Ojo6OmY6ZpA6ZrY6kLY6kNtmAABmOgBmOjpmkLZmkNtmtttmtv+AsdON08eQOgCQZgCQZjqQkGaQtpCQttuQtv+Q29uQ2/+z3mm2ZgC2Zjq2kDq227a229u22/+2/9u2//+8gL2+utrM68XZ2dnbkDrbkGbbtmbbtpDb27bb29vb2//b///7gHL8zeX9tGL/tmb/25D/27b/7W///7P//7b//9v///8WyeBRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAYfUlEQVR4nO2dCXskt3GGP1krrWMrsuxIHMc5LK7jyOKSsuJkSUpLZvH/f5UbV6EO9DHTALtnvPU84qDRQKHwqlA4enoW7qNMCrY2YO+CrQ3Yu2BrA/YuaKfqf34L4NMv/m+9pjf4xfdtC54uaKXow+8R5ZNvVuu6REDEBw1svkRAPw2u8/U75358DXzp3A/45N+/wi++iwPv098Nd1Jv/v83/v6Q/vNw49V3vu6HPw2Vv3gXk6/x6j9Kvwc9fxzuvvo2XBVdoiCr/9dfDslff9eoU17QRs3gQJ98G1I//5Pn9EPwpc/epYRPKUBpPH4bcry8+p75YQFUynFdvCCr/0MrHy6CNmoGIz/n14Oln33n/tf9/DpR+tIAGtzrR/hab3xyKPhl8MPP33mHYIAGL4v1uS5esNT3VrzzWr9s0ysvaKMm9q/I0I0Qq9NgeZM6wgF9k/JjxlCDF2GAvgnaPx/RJeoP5V79d5sOkaCNmgTopzKywqAYRoIfEPFSxaDvU/5QNQ+joXjwQxGDvk3+yXXxgrI+KEo1ErRRk4aYBpRH3k/eEWK3I8qEwOf/BOpgLl4FxHXxgqy+e/9VTP1nm155QRs1KUgv8CABKHnQN0XLZ2W+c27Kg6ggqz/I+3/7ZYrjjQSN9ORp/sPfvmKARNz4ITM0MYjieyUGEaCJGCTmB/fhX1tOY2ikhy0U8YUjQHzmCX/f/x52Fvvka/f+N75gnJzeoArIzmJv0iyW6w+5//zOj7MdehDbanztCiC+dqFoytZByQ9oqcPznZOAuC5ekNX/E4qqRoJ2qv7229c0hRCguPr9l5D8eQihv/5znsX+8ofhKqx53//hdU5++K/X+PTragySunhBVv9HH4F+tcOV9LHyApuoRoJtmv0IaEY+ApqRj4AuRrC1AXsXbG3A3gVbG7B3QWf9d3d3nVvoLOir/u7u3Amhr/q7syeEvurvzp4QOuv/CGhOPgKakY+A5mTg07+RfoILaqWL4KKa6SC4qGY6CC6sneaCi2uoseACW2oquMimGgr22tbbt287mXGcYKeNvfUCHFGjk7ysBctbC4B8jeVV+sgLt7+4uQxo89D1ws0vb67EIGwajrDj9tLwKs60heCl25s4/oAJyuHyaECPg5xiW1XQTNMyuasewvojkQBHmRPyjgX0+NiSEGZLtJW7GqGSoc0J1yc40KUASoOKEVP24OiJ/pFkpaXFgpeVDAg54gwfo4DgjnWix8fGhDBborWoEXZ1dcWPZaU9ODpOJzKXAegqCzNE2oPkOwnQAkoX4EHO8OGApEFIe7IIaJEfnX0MCo2GViWgmguB+06SBerPehZLjfpmJZ8KIJ/8xwSkXYgsGWY0AhYHV4o7NMYWaT/nlXRqNTSrXcjn0jVzGLjl89jABm1Nbaptcau+WRWDouRrKEALJ7Kmo8tR4y8v5CxLALGZfs6RLhRQJBQ/w7W/zfksnukvCpBwIZlIlqkATZgm9BIftLK0kZ6j2w0NI3O5qgFKB/fCd2b4+D+eUbvj/lZ6jm43NKwdaBhcrsxq2V34bmNGqyujrNFYQwslJ0jYb5gRJrdlhYnPyekJTqFi4+0qGug4QeKOldwGAhAfY9zK8HfCk2KpSwTknOITZ/piXvyYGWqprKMRdv6AnPSaZIsBVJnulfj1M+gKOa+FpZgt0UfimYdcJoZ0Hm4l8LBYPTKPSW9puxJCQ11HtgwFKM1ilPu2JlVVAlDjtSLaqTq2ZdQAlcQoH4vpQgH5ttUImwbEnEpqAt/D7xzQzc3N4pZ121dlUzbmQRVAKToXZbuOQTc3iwnVdgMxp8SgkUDEABUlVlsTaar25uYIQLVn9FdlQx+N40wkn+AngjG0tibSUuvNQkChCH88lp8himW1U+4jAYVII41v2ZU+Wmf53BRBAUQPWJHBhE+NBuCEaqG4ZV+6KJ1zH8bnhj2BLgXqgMS2/qwBoconZwIVPioKBS4DB+FAOVRzF0J1rmrZmQ46UVUXB1RwlBlAIxNWmctKkRHTG3amh05U1fFxRzEKd5bQKB8GyCeK59jGGvamvUoUdWBiApMvsghQeTQGikIUesK5asfedFCJ+Md80VAHJn93EpATn658Dy+eyZfTHmt7u960V4n0xyqEvSwxiL2uyQIMeGguN0H7iAhqtq0G0kwj0h+rEOaSBWlGiAVglAx+s6g7V0DVhRDMJZ/G7ug+4wGe8ZYvheR5obXe5qyUZgq9ovpKWjcBBSgX4A6DnCO/AMPUhaFnrbc5K6WVQpSV4FwTEGOMFSh82GMMaEDpweCY9ZWsVdJKH1sJzjXhr4kN6kaA/hpAYpNhalbOUNZJU31YEoP8tdqozhLyabMUMhXtqwwNpJnGcet0NiwgBz6+SqUQn1POY5r15TaVlPd6+a6R1inr9C1UAKnv2HGnySUemQuRrpTu+GpiG8WTWvRNPwwzIFpLsx1GpiU2GMMiWs/0Li+o+9GpWN9BC7vp2ZTdPD9WtIBAYSc/bVfLJNfj+1JT1ndSwuK2Ou5IL2mE1zYqHuTyUKMvhlM7OXEJgNjMDwWo6kEuXbmUeCxSxhJh6c6nCaBJHXRgBiRY4T8Vg+7v7xkftrhmfERoLocedWlGDr11iLVjSVKdAU34UyWUABUkKFfQMz6XdmMPsyXW6hBrR+hEQJP+qt17WCOyAyAKRhnMuQCaU4FaOicCGtwXF4rZZR7TX0vIpCij+uLBngDNakAtnRPMgzghM589PT2NxKLHKozdxKAFizTU0pQIMcgpQOJJmO/rEwPE1PmrEULzdi2TlXpE9cqDLl0GOhE9SI4xD724Uug+AbLqdw1I1K4+CnRTgIb4HWNQ4iQ2X7koAXoaGTZ5kTRh2gpZo0fZNAII1Yu86Uhk0kirLIUYoLoVkc8D5HEC6oWPlxWKdFV2EB8ppYeEtTplTR3JuIhIraUHKGmxIwEJWI8PDw/+PycQreiXlBWKdNU7Raism22dAihn0VIIKQS9fZuoZD4ERdJ6yOI4ohX9mu7liqpVQOoQNtdh8EIAAvJYi73kgEIt5UB1QISo4RZN9/LUqs/Pz5FMTkwDKo6VlkCOAIViEpD/GPMgCEAhZ2KFvbKXR8lAgpTg+TmBocQd27zXmkupeyn5bgxGhY8dYynmwGk+ru0pCGZLjEggQV9TaASoYCiz2QigJyIi4XiJ8/6pPZNysppAAjksVgANn1OA0hRn+SQOmocabgyQRnR1dRU3+02OYk/WET2IX5ZsIjUZg/wxURpXFpD2GDPcntKwkiOMfdFRTGqny8kKFCCeX+4zQOGj4IopijthvwHmKmbh81RSgVbCokI01OsN6yc1nFzTkyBGdon2nKTwYSEpf6+KBWZ4SkQIT4qJv/K9jamCZQZQsGxVzMZsiTHJBLIjQylMAFMk54BC8QCKAdKjzPB5Qr5kax89x/sy4dUz1q+NAGU+zywj/y25lJIeRKL58DCUTJNzmPKghxigqRegegzRPgDF9LPhlttRMShn5/blXMZNk3N8StY8J39C92xbQOIa44DqDdYAZa/yt2j+yuUUoJTLY5AFtGGQZv/r5jyo2mKZw/J2I6yM4k3hOrHWACJMYAwJRWoqhrU9GzH8eGHzGEr04ZNbrSHWolwFqf0Yjz0Jk9yXPiRQ3Jmu2CpoRc9qdh8v3FnAMmcaYi0GIJCraSJUABEnO7tDAuJvlzcitEILA4R07USy3hBrUXnQCCBaODvDJ48u6UA7BZSSZfkz1hBK4p490qCHP2lhZfhwMMVt8oALGvcFiMWgQmU2SrM1d/YWwlI8CHVAhhDF56iU89kBIOY5RGUeEOXwjRg/mM6lnmhPlpeGlRV0BZBtaW0XV9UWbJZMY/mTBRw2d4F/8DA9wobic6gR/SdWFjuyVV1cV5sAlZOh6Zbyp1oSmpvVQWbZPLAVUKSi3gxeKZgtMVPdDqkRlVCfKfII/xGDDhaQGWMFArWavGgXgILPHAtoSIRwnJbMkBEohuuYZ+d5J1eGPCTzRPohqyaERnqzrC5VPg4QxJKZPImm+xy21UooFmdhh89Z6Y1yqFen1xMa6c2RlYULjags2Xw+pzmMZnk6YSynh1yN9B4JyOWkzlohI71ZJkTFAsrX+Rn8kLoPx6pIYec+fWfBnAkV9cxvmET3uZKAZMiJndoeEE1e4IDYbC/OycywoqWzidFZiM/19bVqmwG6Csw5DFCZFb2Tuk4ShkWm0rmQPGm1gMz2y5oTr6+vDaGrOIVxL0l1U16jZVBLQNyZpj3osB5QnuQZIB6bW81hrWIQY8X2rF5UDApyOGhC4/aEawHogT0OIwwFya4AlYleOpNRLFs5eKGpPk/yQe7zNzxkTcnn4QH5HIhPWLsElBN2e4rRiwTIVYZWXiiWg1eUApFSmuXzcije50h2FIPswFKKKU+14vkg/C3Fy1LR8USuiTzOJgGRun14ENulClT5o2TKVuJV8iOWzb5FVSJTqnodBRAxiO7n0ZXSDccYZkuMC9+E2RgttmiimXhhAHnJWDSgxCdGorJrveKa+wQhzJYYF7lLRcmbBpTSVUDyvMNLpHLNCInN/K4BycjznA9fa+dmrJmUjHzAblTtSQPLACIXKhUsoDV9GzPo5OoZluBUayYmyX80InmJTMUAcmqMASwGlQPGFX2r2XNC9VrwUYDEYILJE4g8gxRrwr62RB7QaiguhWSUhurMVf4d+HX9Ww3IzGPpmq+nDwdOI1U88FzQnE9DiR5+0BqxWMpcyIlvu5Qi7YYZZktMiZrH8i41XSU/EihivQOTkuFkrFEmFkv5GBNuUopoQKeTwmyJKTGA+Doo37SA0jW7ERKQs5UyUW03pgDlY0XO51RCmC0xJXwmz0mwO89ljPHWYsZBA/IJFoOkiWohREGI9z2OtjDeJJDNAImHPMKF9Dw/GF4itQVE+47IQFiFfIMIlTHm2D8zMY5hzSMOzJZYrICYsOmeCZ/L/HgSfNTJDxwfUqA7AtDt7a00fwSDPm88tX+rFUhAXHOJODEJlwOQ1lMAsUjEbrHNxq0XYUoN0OpvSq+sHjU8h6+yqv0FyIsOSgqgMrTmATnuVAMhAShEH+sna+m4FoDMTGbSDA35Db/mhlAMqgGiZBhjDFDxHd6fBngaAHo2UGS+XPLohAFEAadO6DpCyYByNhtcVLYJnj6AypLaAHKLANFqyIyxMK6gthnyfCzmNcLTDlC5kt93VSCgAlKYz7wNBz7NjwAaFto58DzQd17iXMYI4UocgqyV9Zo8E6FNxGrNh+3CyiQG5AJxH1YF5Dle66nrNmcQoHYHHaztVkrip5jLnAHk5JJI5iQq5U8Qn4pVrwWf21sDqOFJkOzbei1pdDn7hRjNZx6QNEtsztidWwaITqV3C6j4jVdpAYVok4sfzGONAzvu0GbVAd0KPkE68GkVzfgqkZ5q5JlEzVf1gRYy6QCxzPb5DEQafMvxUB92DCi9q6EHV9J+EEvCKUAUePxljNhOfrkjlJPeE/VdcWnUK9cOEHsSJgjRQGILoXSvCohfqnks4gD3nltHLnS1e0BR/MLnmW/k+cLQSSqH+FjjkPevYsls1tLJYW6tnBWgAMAAKhFobKRBWJMWQeLEgzzGAvK5nfh0AsReyGaAIA454EQBbk5ZJeZCmAQU/vag49oC0rEY6qTDoTKXURG2NrSA8qbC3UpOPFx34dMSEC13inIegEQEUkugCChhyc82hHk+QUD4EloBatcd1nAjkbOSl0cFxoKKFghA3iIRfPJnNfqo7Ua73mTBbInFYgA9PnIwVAIwoZrxKcsgkRhuTACS38ZqKpgtsVyMAwVCNNAUKBmq9f4ULDetsGtROi6LxBtVjQWzJU6X/Cs1BYfmw5AGQwgQj9b0iP6Wr4PId4KcJ6D87xCyOd7nlnmdjbRyUJauSrQuGWL/nhLxPYbzBJR1x0eGkAMMjgOihWFwGORoXYKS5MNHWnin4Txi0IRu32vlN+CrIgaoXDqxTeVRSEQi/Tpnt060k8fqP7yjpjTx6JCfJNK1eESfo5BY+3BAnUaZ7kULyT/3rPMrU5rhI5bSec6nUVfjc8v4nBOg+u+JQAMKGSnm5A/2NaGyqWMeZdZCjr+M11jQXiX7YeyK6EVRWUVLR5JjLJZJDmfxOPNmVTPBifXS78yN3hz/yR61mI6f0VlYqJaEDllobSj4gP3+x4n9GZWRLs7JWJhR90fahHWkKGH1Q2gKIcYnQyneE/837RHQFITp3zQycz4XPdkfDocKoKIqJXYKaATDrNoJQDTZR0CHOqDIgg3y/cUgC4gu57X6bawvXAMkt6oCJUWe9OIUqxL5NGeE2RIjkgExIwuwea2xbtrvj1glfUw6kX5REexF2FO7VBWsqZxWzCiX6Z/7Wlh3Yr2UB5WjPW58HBsBQe5OswW7A6SU5O4u1jkexg4MEH8u5A5sjOXWqb3dAso2HuFAufwCQHHFTXdu+eNUEaa7xGnMljhGD45UacJYFs1HximUBllVxF9yOKL5JdJMHfKf4zSqMEZyoAckFUD5nV+FJ1lwnAFz0k4b3AigRb+DaRClzQjb3TKxkzzKHWPAKmmoDZV/BH5uwc2ri62dncW46FgDcQO6+BppqcyimN2RjFkjZjFrpASkl9Om+BppqUyxQPqpawuoujhM5ohVoXpKTZIBhaAMc6PlVGbaXiEFRz7nqvERXTdSDTzWSOKjUdznf85tVU+Y2LZPlutr6zDWfQ6TgOqBxxiZMiok0Ho1ZNo+WfzWux2gaSNTRt2D9gwoI6LMUUC2/kEc6U8aifxhInL7Datu+3SpApKLoBxeatUTGr6rGDMS/EPc67Cht9acLPFpaNo91AqQe9TuTkxaqF3myUvc3O1mlZRlJ5pmMHnT3oe9YnM7v7vjzWoUGmbTDOQUdaDHHFRJ1oa+EEsfkW5/6IrZEscIAao/ECp85Jel7dgS1cWFXSnT5dBotdlV0lZjBjRdiiFRkz5ZI8ziF7VBhPIB11oaa1TfOKjLOKA6IZ4eBwTXg08P5HMq+Ws+ZlUEkxDJ+jSFNO7mWj5F2uucARRvI6f1ugeqoMwbmaZi7uz/mZOkvdJpO9PNNHNVbIBNsqwJQJPNni7t1Y4COtArGfpxIa8h0sj16GZ1Hu+w/Kna00jjiEozuY8YIS/sd6qtenRY/tTNaaNxROVJgFzavwYCqBfAgonhdGmveQEgyLX01MI51btnD3Rs6ZEWm0h73QXQs/yFnAyFz2PyTt2kxKdEYajCukJTaa+cAIl3M02LrGF9CKRtgj6kl0V18bbSQXsipN5e1Q2yhs0pmTwz8hfikWmpCtebT39Az7V7omF7xCgyykWukr2pc3h2otGWKoNOmDegnY0eQewxa8hJXeensDErHxrCdXefPi2En5kEe5G+3Ki1XDmHTjnx4ZHZ7bNj1Q7Wa+nQhPhRzkJIDYbY6/D4zJ5SmxjEzS2AOhhvpEMbVUA6VvBRNGcWv/BVEqDu4cda0khlhlII2b7YcTVulb6677k5nTaljUo8P4vfeVO/MyDejVpilbLxRfl0msWSVguocJniswTQejuXCWZLnKRT/BaM/SWPuZYxcdX1cGPOlEY667+V48Wu+hZYpYu+JJ+XBuROcKB0ueRxQAdBe5X+ycYYn2UNo3KpX9F8KUFzjfHZmMBTwzTesFkTgNQ2MvEYQXON6V3K9DNmPmdyV2/yzY0ABpcGKF89P9f/6eeRhiur48z7smJQTo+HolrD1c3DVq6TBD10FqWRTTVUm5bre6vNxlZuv6/S5fPYCB5sNrayBZ2VLpzIxvFsLeiilGstRx+jje8XT19ABQ1GhhpYaSbh7fAulh0v6KI0aOVoxmJR9ccJNg7LUtBFadAq0ExFay2XDyj2j6FxxxDaemKXgg46cwc5mbEoZA3C1hO7FHTQKT0ghiL1j0eNmtPDnlWCDjorgNzkdE/G9LBmpaCHUjlEOJLJlXUXW9YKXkBtYuKn9HFA+8TTDxDTG4MQXzxOl9+XoJNapncy7sTTsE5WtBB0Usv0TgHKp2H7FfTSGxSz+asuu1oTVgW99HrFaY1Y2W9ds1/5/UcHVGshjqy9LZqrgm6KMRF99u84JOim2GuuHdZ7+QioOnWjRKOz4fNSgFCL1Gch6KS3jKHzZRMEfdRe53nqnNkEQR+112cUhqcFfdR+BDQnl8LnRb6LfdaCrQ3Yu2BrA/Yu2NqAvQu2NmDvgq0N2LtgawP2LtjagL0LtjZg74KtDdi7YGsD9i7Y2oC9C7Y2YO+CrQ3Yu2BrA/Yu2NqAvQu2NmDvgq0N2LtgawP2LtjagL0LtjZg74KtDdi7YGsD9i7Y2oC9C7Y2YO+CrQ3Yu/wdhMx3ctO5t3EAAAAASUVORK5CYII=" width="50%" /><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAAz1BMVEUAAAAAADoAAGYAOjoAOmYAOpAAZmYAZpAAZrY6AAA6OgA6OmY6ZmY6ZpA6ZrY6kLY6kNtmAABmOgBmOjpmZgBmkLZmkNtmtttmtv+AsdON08eQOgCQOjqQZjqQkLaQtpCQttuQ27aQ29uQ2/+z3mm2ZgC2Zjq2ZpC2kDq2kGa2tma229u22/+2/9u2//+8gL2+utrM68XZ2dnbkDrbtmbbtpDb27bb29vb2//b///7gHL8zeX9tGL/tmb/25D/27b/7W///7P//7b//9v///9Y25EHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAOWUlEQVR4nO2daWPcthGGIUdK5bh2JTetJbtp3Epq00a1DjdpJa9qr8X//5sKghdIHDMABgdXeD9IuyQwGD47AHHwYE2VVSy3A6WrAgJUAQHyBPT47+8YYy8u7Yn+/gE2pE9zwZ4BeTHGcZbs8gP09TXrdGRJ9Pk17JopDXhYGOM4S4C8AD2+Y4NOzKkwrpnSgHnRx50F0EfG9t/zX5FzOrjj33/5PWPf/OFO7Nn769/43rPWM65nH/iWH1+zZ5fNL23UvTgTBtoK+s2bMU3zyPPsvWoN8I/PufHpsCSLzZSuy/i9KP5C/EwP4u/ME1GusPT1uPUgGSAeQJ37j3969d+OV6vW2f4j2zubAHX7HsYd/eG19bNPw/1vtf9BCs4J0JRxStdl/Ge7td141EeK4snBXbudG9078+PjBYi7dCh9/d/z1qOPws02ti77z10U8M8Hl81/uI+/uWuTHokf+3d3n4/b3V2ai/b3Hfcd3rWBIgGSLQ7pREb+8aT9w93h9g+XnrTltgn/9c7aFNAD6lwc1VeH4Sc8EQkOJUCDc7/+4zsm7Xj5c/+RAz8SKEZiX49lQINFJZ2g8lGEm2CleiK+fG8/mcQGxL086Cv9WfenD7EBUBfdjz904X84ZmiaKRCGaiQOuZGbVsmilG403tahb4/3zj52NWnpSV+dvSsYRRUbvolW0giobVv2//zr8VAbeok0D2w88MGYFpCUrk/wwPb+cszevGNHF5yNxpOhvRt/EWcFNtIvL5ER1EXd12NDBJ1MpsU+UwSNTclYFX/7vA2fb9vaZ4qgg58St0GL0/y85hsAPQxNydh6P7x4P7VB85Cat0GjRTWdiI/uDLl3tmwNB0DiLOkdQgQdxfm5YwLUfZ4i6OCuJXooYL26e3w3VYQLtvem+SyOojuLXTAdIDndxL0jJwionkyV2DeEAocar7pjkHof0+E8DB3FoQ3qG+mxHzSm6fs3ch9JC0hK12UU7faJMH6o9aQZT3e+IRQ2WP25+yb6r39cHk7bm9m/lM9i++8/dgcuetJthi5N8/kHfqAvRV/38afnvJOtbYMaKV2fse8Cjn2JpSdDtVv0TBxUpzsAVUCAKiBAFRCgCghQBQSoAgJUAQGqgABVQIBKB8QHNJkdyFs8JNbkdnEFgPL6WA6gU67lNjb7l0XFADo9VQhN7U9GL0sBdHo6J8TmrXM+NwsBdHo6EWJMc+rK5mdxgEyn9VyOFgfImCSTp+sB1OTpMhYCSGmktcrhbCmAdKd5VRm8zQLolkvZKFpoKCdPcM0VxStjicl1e6sl1GC8YdfXaQllAHR7G0Do+joxofSAbm8thCB3rq9TE6qAABUGCPKnAqqA7I00mhC9WwaVdZpvsK0QtUtmZesoGgvGECL2x6ZsY2Tj0BPyiKV1Oh+gWdHyFBng0lMEJOj084jQQljqdY5801ADoVnwMDA+nhggbbzYfGJgCmJlnMg0NtQVELSkbHGqAmpQe9K5nXOtwINQBSTttm2vgIDt04fYi0FZl+OcCS2620PXks4vtCex5QeIyR+l2IkZRoUC0u+SAS0SRGOUd8XbMYSAQYi0e8Pl7pV7mdHkBQheVhwYbTZkhEoFpNuF8VUw2mzoCOUFZClenTjEuso2G0JCpQLSTD2jXd0lQKbydYsXFdAk3fIX3tMKCDK+Q420wQENILSj7XlsZ07zJgf8AfVdoV3pKGodaI9x4MOg1nyZk3xCJDuguQfjIY7xg78dgc0mudcMaH4lPZM1bZ7qF0PNQ7PFGsB6ASnjcH0qOSUD5tdUPOsFhLwLYxk01gVFpuJZKyD0MqFaqxgzxRrT2l0jIP2clmViY55Bm72bdMXa9VA6QA638czbHsimx/qsg2ICuuIayzG3IJZNiClE7+uMkIoI6OpqJGQLBVvzYcsGrWgUD+jqaiBkrylWQMbwYNbderteigboahTUw5t9Qd2risCzJkB4F3CdJNSFaDsKSN2nIgOaHosxL60MEG5chk6TwIz5knAsH/tJSzvAQjldBiDbRfNIPlK/ULdPbqHQMx/oRLHNWG+7YIKPQ2thBTSbIcH4VgIg8NYv40BJ64MFkMdUT+mA2PwPxgf9mHM5k7YjgJjyF3bCDGi2LymfWICY7h/kBHLgkLIFitZI+wDCjhzWBMh0ml+2KqjhGBJQWj5xOorqwWAIIQe1CXvRRKYs8xXYeoE62+G70ZTjp1SA7AU5AErMJx0g+BwF9wa+cOH7nTQKt2bhgwaE63J/EfJwKETpAEEhhOQDEqLlEwOQseGxlKUDtBhifPmCIkTMJwIgS7UyF6YBNIxSB0GAPnHR86EHZKtV1hBaRJuSFgD0SYicTymA7rmkdLo5ZzugT70AZ91FDcje6phKu7+XCJlm5DF86AkFA7ISQQK6vx8J2ZZzwApWPiAIiL60+1HAco7go00yAZpdsBalGxxiIBQQpiwAEKI8J5ECsnWJLKW5AdIaYYYaFqMf7G/A1qe2FYcFZBzOt1VJ3wIVBUhjCgeocQog9UzQfde20PkB2Sc0lCqmLY4xFB/DJAE4CA4THSBt04AprD1EcQrzKCr+NR5kgPSxAReGv3tADVbEabwYQIbgAAtzezbX7DOql7N2QA5LpouUyE5gKYAMZoB+0LKr69Deov0mPAsF5DdZsQNSr523eOPraGZAdj5WAI5vz3gigKYhpP7WC7M7awbkfFTMeGsKGjVeJCEQlN2jXjB0sw5th5UdkM2COSBcQawS0JbLD5Bf0HkqjFBA7q2Qz1iRmCmgXIC2vTysU0O1KxOg7RZBCDUAwe0NOMwgQuUBKiyEMgCCivQGZFrG2DVAfnHXDHMgxHdAZ2ikPQHh8ymMEC/mcnUGI5iPJyCXEBrHdvM5+1kgoV5d5uYLTiCf6ICmOzl0q4Y9JNTL7xx9ocrsNmCHkqhzA+NH08o8Z4R5faK7L1SZdb+6t2Fm/Gq7duHJApK/VUDq1tmXCkjdjAZUdCMdD9AihZkPb8mzneYzAlISGPhMJ3pEqS6uUGX27fYDHSjNbv1JHlWYuyd0eeMAQtogwLMqQNYAUlOT4Ik/0FXSgJMd3ejK1ngFtGLuKgmQdF2q7WlwmMAl4xN/qkQZQBkTzns5RrL+YzkvxZ9LMg8QbDuM6/aIMyclnxSTbeYRgrRZDTRD6HnNIASoCEDaFkc/dofbeJxTaCUAZB5CWe1oL64C+SBdwivAIj6reQzVmH9z3dV5qetXmEUaQGYr6iNxvMZ+gUoCyNwJRj8JEQeInk8iQIZODPQkxAXXHAGUCpD2JAQHxGx0kbiHGG4yEBDmMnk58JKOwEhMumVdnoZw45SJq9e4hkDJAM2bEWx/bs2AXHOy5i2XY97xcf+5+CQEJPgIQi7DAXbOZXqcfbBLUW265nzby220dH7eEYriUlybjjnfjnLJdd4rikuRbaYAdH7uRKgsQI4zC08QELovI5QAUAw+gUZtLyVYPh0ipAlaLSDd9IXxqRnufCZC2bpB4UanhRrwcSLufAZC2UZiJEadnrPiXN5Qv6ASbrhcbWMUhTppedOUhy3vzU0kQqkBeQzhMHlvbhRCNI8PWhcgYxDd3MiExjr/9ACZEE2AFu9PdCwMLj+BfObZrFs4knkE+ZaFdCC2QgFNl9dPHQsTIILDWyGgRvNOTAOfVQLymuwHN5tO8+Ed4VADcYvEz80aukFrBOS3JOuXcJVVLAYgU7oKCEi2TkDBFQefrgKyJ1tlR9Gl0KcKKPjAsckqICDVagGRLiVHDaAdABQ3gIoGFJxoxYDoVil2ExBuuhiRJv77wjPMB6En08FkKd4XnhSQ64sKgOOHTK0LkM8qjLX+wNbKA7Th0pXhvURlftwipn3yKjKOlU6bjUIo9O0fIfNgxQHabOaESJY2dRZSPWub0EqrzWYiBASOy9tlNMtgSIfKBbS8IkbR3AOnvgw+KImOLA4gpytirEe9hIn3p2BAPm6gWmOKFTVXRWykHR0BH4Do2OSXBoi7H8Knt7Fwh8n7HG0F+BHBTud+IJ/J0PBFvxkW5k1BWIcKstLbGo1JfNxM4N6lhHSHwgbtgI4t/jvbR76Ny82bAAvk4102/+dqH/3COxdn/PPHmA5g4x8f+yUBioKnu+CcedsvCFCcyaT+vjtv+7sOaLzpxTs8y2mkYwDyuzNRFvaViUhrGXNrFQyo9amcjiI9oUBART1giSK/ojBA9D9YsEXyX2y8fdwjb4QqH2fW2NtWe4gDH9JVIn+XijDRG+otdfUL/SLMRW5ilQNI86RAl4OOtQJKMponMGF6UiDSdqTwaQpZnrW9rw61hhoNTwkTZvYVtAZx+BHx5J/aho5emvnwtBCovHPb2Es00Atn9KI7R7vnwP321omzyOHTUP4ArssyrmvIuvTR8ZAW4WLK50IztaOUgA/tQAGd0HMRUPf829giLQVnzOOH1y2VpeFD/DNgrHmVqKyRJcJDXhBozveHn4dOqvBp6H8JTL/Pz3D62tUVltRecUsEGUq1DayKmwDPUqjRYlmTlxnLjDgoyEAoRpERBwXpCaWZ6KY77yQnlGSmO9OAr+QCZbOk3ZZdAeR//RzWbipFXg0obqm8oAKjDJl25CzWm07Wx4qpiBFUAZm05SJ7EuZcOwFoKxTH+C4A2m5nhPDvNMBoBwBttzNCLm99QGj1gBibA3J7LwbCPpWhLCWK89YMkONrHxBFENlJXuJ0w24FBGng09KaADnf6KvXLgCSTvOaCMLdKp7S3QwljnxcGmkjuQzLzSlLJGiBPAKNUNFLpO0oplee1bgVqQICVAEBqoAAVUCAKiBAFRCgCghQBQSoAgJUAQGqgABVQIAqIEAVEKAKCFAFBKgCAlQBAaqAAFVAgCogQBUQoAoIUAUEqAICVAEB+j8w8LBdHis/PwAAAABJRU5ErkJggg==" width="50%" /></p>
</div>
<div id="to_spatial_directed" class="section level3">
<h3>to_spatial_directed</h3>
<p>The <code>to_spatial_directed()</code> morpher turns an undirected
network into a directed one based on the direction given by the
linestring geometries of the edges. Hence, from the node corresponding
to the first point of the linestring, to the node corresponding to the
last point of the linestring. This in contradiction to
<code>tidygraph::to_directed()</code>, which bases the direction on the
node indices given in the <em>to</em> and <em>from</em> columns of the
edges. In undirected networks the lowest node index is always used as
<em>from</em> index, no matter the order of endpoints in the edges’
linestring geometry. Therefore, the <em>from</em> and <em>to</em> node
indices of an edge may not always correspond to the first and last
endpoint of the linestring geometry, and
<code>to_spatial_directed()</code> gives different results as
<code>tidygraph::to_directed()</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>net <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;nodes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bc_undir =</span> <span class="fu">centrality_betweenness</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  <span class="fu">morph</span>(to_spatial_directed) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bc_dir =</span> <span class="fu">centrality_betweenness</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>  <span class="fu">unmorph</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bc_diff =</span> bc_dir <span class="sc">-</span> bc_undir) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(bc_diff))</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; <span style="color: #555555;"># A sfnetwork with</span> <span style="color: #555555;">701</span> <span style="color: #555555;">nodes and</span> <span style="color: #555555;">851</span> <span style="color: #555555;">edges
#&gt; #
#&gt; # CRS: </span> <span style="color: #555555;">EPSG:3035</span> <span style="color: #555555;">
#&gt; #
#&gt; # An undirected multigraph with 14 components with spatially explicit edges
#&gt; #
#&gt; # A tibble: 701 × 4</span>
#&gt;            geometry bc_undir bc_dir bc_diff
#&gt;         <span style="color: #555555; font-style: italic;">&lt;POINT [m]&gt;</span>    <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>
#&gt; <span style="color: #555555;">1</span> (4152048 3207854)    <span style="text-decoration: underline;">1</span>159. <span style="text-decoration: underline;">38</span>279.  <span style="text-decoration: underline;">37</span>120.
#&gt; <span style="color: #555555;">2</span> (4152205 3207787)    <span style="text-decoration: underline;">1</span>259. <span style="text-decoration: underline;">38</span>104.  <span style="text-decoration: underline;">36</span>845.
#&gt; <span style="color: #555555;">3</span> (4152057 3207685)   <span style="text-decoration: underline;">15</span>129. <span style="text-decoration: underline;">51</span>935.  <span style="text-decoration: underline;">36</span>806.
#&gt; <span style="color: #555555;">4</span> (4152035 3207851)    <span style="text-decoration: underline;">1</span>794. <span style="text-decoration: underline;">37</span>512.  <span style="text-decoration: underline;">35</span>719.
#&gt; <span style="color: #555555;">5</span> (4152207 3207791)    <span style="text-decoration: underline;">2</span>453. <span style="text-decoration: underline;">37</span>754.  <span style="text-decoration: underline;">35</span>301.
#&gt; <span style="color: #555555;">6</span> (4152085 3207577)   <span style="text-decoration: underline;">17</span>974. <span style="text-decoration: underline;">52</span>110.  <span style="text-decoration: underline;">34</span>136.
#&gt; <span style="color: #555555;"># ℹ 695 more rows</span>
#&gt; <span style="color: #555555;">#
#&gt; # A tibble: 851 × 5</span>
#&gt;    from    to name                  type                                geometry
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>                       <span style="color: #555555; font-style: italic;">&lt;LINESTRING [m]&gt;</span>
#&gt; <span style="color: #555555;">1</span>   166   500 Havixbecker Strasse   residential (4151491 3207923, 4151474 32079…
#&gt; <span style="color: #555555;">2</span>   606   688 Pienersallee          secondary   (4151398 3207777, 4151390 32077…
#&gt; <span style="color: #555555;">3</span>   607   664 Schulte-Bernd-Strasse residential (4151408 3207539, 4151417 32075…
#&gt; <span style="color: #555555;"># ℹ 848 more rows</span>
</CODE></PRE>
</div>
<div id="to_spatial_explicit" class="section level3">
<h3>to_spatial_explicit</h3>
<p>If your original network is <em>spatially implicit</em> (i.e. edges
do not have a geometry list column), the
<code>to_spatial_explicit()</code> morpher explicitizes the edges by
creating a geometry list column for them. If the edges table can be
directly converted to an sf object using <code>sf::st_as_sf()</code>,
extra arguments can be provided as <code>...</code>, which will be
forwarded to <code>sf::st_as_sf()</code> internally. Otherwise, straight
lines will be drawn between the end nodes of each edge. The morphed
state contains a single sfnetwork.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>implicit_net <span class="ot">=</span> <span class="fu">st_set_geometry</span>(<span class="fu">activate</span>(net, <span class="st">&quot;edges&quot;</span>), <span class="cn">NULL</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>explicit_net <span class="ot">=</span> <span class="fu">convert</span>(implicit_net, to_spatial_explicit)</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="fu">plot</span>(implicit_net, <span class="at">draw_lines =</span> <span class="cn">FALSE</span>, <span class="at">main =</span> <span class="st">&quot;Implicit edges&quot;</span>)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="fu">plot</span>(explicit_net, <span class="at">main =</span> <span class="st">&quot;Explicit edges&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" width="50%" /><img src="data:image/png;base64,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" width="50%" /></p>
</div>
<div id="to_spatial_neighborhood" class="section level3">
<h3>to_spatial_neighborhood</h3>
<p>The <code>to_spatial_neighborhood()</code> morpher limits the
original network to those nodes that are part of the neighborhood of a
specified <em>origin</em> node. This origin node can be specified by a
node index, but also by any geospatial point (as sf or sfc object).
Internally, such a point will be snapped to its nearest node before
calculating the neighborhood. A neighborhood contains all nodes that can
be reached within a certain cost threshold from the origin node. The
morphed state contains a single sfnetwork. See the <a href="https://luukvdmeer.github.io/sfnetworks/articles/sfn04_routing.html#isochrones-and-isodistances">Routing</a>
vignette for more details and examples.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Define the origin location.</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>p <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="fu">st_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="fu">st_combine</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="fu">st_centroid</span>()</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="co"># Subset neighborhood.</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>neigh_net <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>  <span class="fu">convert</span>(to_spatial_neighborhood, p, <span class="at">threshold =</span> <span class="dv">500</span>, <span class="at">weights =</span> <span class="fu">edge_length</span>())</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="fu">plot</span>(neigh_net, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="to_spatial_shortest_paths" class="section level3">
<h3>to_spatial_shortest_paths</h3>
<p>The <code>to_spatial_shortest_paths()</code> morpher limits the
original network to those nodes and edges that are part of the shortest
path between two nodes. Just as with the other shortest path calculation
functionalities presented in the <a href="https://luukvdmeer.github.io/sfnetworks/articles/sfn04_routing.html">Routing</a>
vignette, besides node indices or names, any geospatial point (as sf or
sfc object) can be provided as <em>from</em> and <em>to</em> node.
Internally, such points will be snapped to their nearest node before
calculating the shortest path.</p>
<p>The morpher only accepts a single <em>from</em> node. If also a
single <em>to</em> node is provided, the morphed state of the network
contains a single sfnetwork. However, it is also possible to provide
multiple <em>to</em> nodes. Then, the morphed state of the network
contains multiple sfnetworks, one for each from-to combination.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>net <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  <span class="fu">convert</span>(</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>    to_spatial_shortest_paths,</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>    <span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">100</span>,</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>    <span class="at">weights =</span> <span class="fu">edge_length</span>()</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>  )</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; <span style="color: #555555;"># A sfnetwork with</span> <span style="color: #555555;">26</span> <span style="color: #555555;">nodes and</span> <span style="color: #555555;">25</span> <span style="color: #555555;">edges
#&gt; #
#&gt; # CRS: </span> <span style="color: #555555;">EPSG:3035</span> <span style="color: #555555;">
#&gt; #
#&gt; # An unrooted tree with spatially explicit edges
#&gt; #
#&gt; # A tibble: 25 × 6</span>
#&gt;    from    to name         type                   geometry .tidygraph_edge_index
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>          <span style="color: #555555; font-style: italic;">&lt;LINESTRING [m]&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;int&gt;</span>
#&gt; <span style="color: #555555;">1</span>     2     3 Pienersallee seco… (4151398 3207777, 415139…                     2
#&gt; <span style="color: #555555;">2</span>     6     7 Wilhelm-Raa… resi… (4151350 3207279, 415131…                    20
#&gt; <span style="color: #555555;">3</span>     9    11 <span style="color: #BB0000;">NA</span>           path  (4151322 3207076, 415132…                    96
#&gt; <span style="color: #555555;">4</span>    11    12 <span style="color: #BB0000;">NA</span>           path  (4151324 3207081, 415132…                    97
#&gt; <span style="color: #555555;">5</span>    13    14 Am Meckelba… resi… (4151323 3207085, 415134…                   107
#&gt; <span style="color: #555555;">6</span>     8    10 Pienersallee seco… (4151340 3207612, 415133…                   115
#&gt; <span style="color: #555555;"># ℹ 19 more rows</span>
#&gt; <span style="color: #555555;">#
#&gt; # A tibble: 26 × 2</span>
#&gt;            geometry .tidygraph_node_index
#&gt;         <span style="color: #555555; font-style: italic;">&lt;POINT [m]&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;int&gt;</span>
#&gt; <span style="color: #555555;">1</span> (4151491 3207923)                     1
#&gt; <span style="color: #555555;">2</span> (4151398 3207777)                     3
#&gt; <span style="color: #555555;">3</span> (4151370 3207673)                     4
#&gt; <span style="color: #555555;"># ℹ 23 more rows</span>
</CODE></PRE>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>new_net <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  <span class="fu">morph</span>(</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>    to_spatial_shortest_paths,</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>    <span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">10</span>),</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>    <span class="at">weights =</span> <span class="fu">edge_length</span>()</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">in_paths =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>  <span class="fu">unmorph</span>()</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a>new_net <span class="sc">%&gt;%</span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>  <span class="fu">st_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">col =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a>new_net <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a>  <span class="fu">filter</span>(in_paths) <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a>  <span class="fu">st_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">4</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAHgCAMAAABKCk6nAAAACVBMVEW+vr7/AAD///9UiY95AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO2djZLkrAqG7dz/RW/tdKICL4j5UWNL1TnTiQrEJyDaM/uFbcnUEno7sORZWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5eRAYeRnXuLjDyHYRG+LkNP4QJ8XcaewkX4sow9g2Fl6asy+PwtwFdl9PlbhC/K8NO3CF+T8WdvEb4kL5i8BfiKvGHyFuEL8oa5W0n6grxi6hbh8/KOmVuET8tLJm4RPitvmbdF+KS8ZtoW4XPynllbhE/JiyZtAT4jb5q0RfiEvGnOVpI+Ia+askW4Xt41Y4twtbxswp4iPO/vBr3tsR4BEb5yv+IB5HVPdT+HHe6khN/3UHdziLE7ZxC/75FuxpCpm5LwC5/oXgxE2YSE3/hAt2IInPAbZ8SQVz7OzSE8NeF3Ps3dhCniG3X3l3c+zbkw08awTfBchF/6MLWEC0cZC/BwUkEhJLH6nFH9Anntw6TTiWLH7CijpK7Q64Xy2of5w+A4QnbG5gI8nJTz7t4rv7A6ohH3Sa/919sBA2j60VQZ8GPfKnX7vuq9gLcvXZJbgfAhhrZn+XY6CH014DhjEC0gXAb8mK+Hmw8Z0C23Nnij2NGa+uRXhjK7/ZLkL+IzFnTTje3dKZ4NLp3TToAzFxbgGvEFhCuEjxx6g1eWByuCq8RZE3lCWATwI19JrjW4Uh4DfPNi6ThKe0reD7j8BA7Asco9lD5CeG2TqoVxKO9+8RynCEsK7v/Vr7UPrhdK03G8oQHOx+c3bwvlu3OC224Hm3eKnDZwdukEzBh4NmEV0ofvFIBLx5FOwDwx37sQd+K7AG9x7tvslFrL2wF7cnThODPkJe5DgLvxnQNwOYQ1wDlZuVW9jUo/vnMCds9nYh6HPAG4I9/fBoxyN9tX3+TiHWpOGu9n+ibJ6PgOBDOWIUGWzWVNbgdv0HLaekfb94gMv9KEkvdBDLn7QLov318GnG+LJGAS2RdQdzrASvZ7Gr9FQgg0JsuJ9XsurADeUuLOP5+cqNy7741zek7L+wHLENaBgDNntP2loXslBo9lPtd9VtdJD9qae0IqAJPozEbk6zKrqS8RkXuwBbheXDmaRSRYcmHrxTqau8VOu1vIBIDlRgntZclqqtdUgQ2/hIPmCaC9gUwGeANzmMKHLbyyeVNaT/tFXATqn5cfAcxSL0CoUb1YYOU+XtZ4youWxh4SsQhzwLLqUhZh2XoeB7V4+/mY242Gth6TtHjqwkfwj3cD1t+oBbhaLLC4dLUBg+atcg9rvVJNZS7AmzaR1nS7QhjmAdOjggetZCLAx2elCx/BmyzAdXRh/C7AV0TU0aCH0t2RoyvpDsX3BwGLsssDuNYb1XpzmQbw5svRYK0unW/U0gHvwwJ8VXyLsLJWixCmMVtFB8f7AnxVynkU74f3pr0D7le3ObJM9JDfAqw1iZ00b69wAppZgK+Kh7A51thL++hED/pVzEhG8uWKXAVMO+jHjB77QxEeyJVLcgVwXISpNllne60vwPeLY7daPP1PBba2U9YqqLOrdgMZx5OLUh3Cyj4JlVlpiwW3QPLuAny/XAGc5+ivGtqIi2vL7DiEh3HkqtQBxosmXHUTXHRCpRhdgL/G76w3/YuwDEgdMKmwRQ5QTS7AolK9Rx+/wXqQpbQAmGRmANj2fhjC/U5YbqUrFAZLji75YKTtgBsA4IL7C/BdeDG6xAbDlVqkVmqCdiu+nj8P+Jb4hfwMkNZhltRLL0k3610p2morndxIae/cYBSTxTDVLQaefANjSQDvl+8I4W6AT0wBzLcScMGsolVckGyAVt93hHAfLxwRQLvLkOWlUpkuMgmSPAxdsW8q+78AO2dAybxsmh3hm4/KVePx4jLdxsoKtnpJFydcKW7vqWETgF07L1oGU1jsGr1P9O4CrNksA5YZU/agP2tyNNBdPKQ63iDggm2ss/QBnP+gLXg9NLQc6d73PtB9lAo4yCIQKX9DCHfwARUpGlhjjnI1+xALMYldWQWAbS8ArLhQ8LCr9AZcCFg34P2jTpi9ACABH5+iBgDd756juYm0d4FEZykVOwFvOVysjRuCNTnuAnz8fD4F9xzNTaQ7YGdnvUnWTUqw0dvgQmAkUc8Bf2z3Su63kuYe0AC5MkMxxee3jptFVSKCYRGVM89bP68J4SkBQ8IFwLCGIjcXYJ/BewGr9VGxXmPJuIRXAn5Hjm7tAIuI2wDzSlyv26BqnJxxJfYnrwnhqQDnkXgFsLKbyi4+TsD9CXcFbOyPZHdXY6axijBfyKGS4+Kzi8fMrwIu7X9Zd39jzsb/8uSD1MLqe/VJUvbw9wAHIpV51NMY/IRlBIOXjobw58P5Dp+j20ewtrVUulc25oAKhEGKNmtvQLfo4u8BZtbvBCy3wH7CKuDjlkK34KJnFXpYupq/uAZDwvzgwzncDmGVruGit8x4WHqY53tWs2tF6wHYS9gFmC68SJu2UvSH++dJa3u0yip397TyHTG151KuAqaxi2Hy61Hg/pe2blQ/ujOCczyiDFZV8E0u8M1TM4s99Dh0t8aA65/8OmCDMA917h5aePUybEC4/6WlNyee3bkHMXK0YTZwyRuVskoDPCTc/9IW8PUh8Bjiw0Quili3CtjQhursUeH+l7cBJnc4WF2gNvWSDLQHbQfg6kdrJA0dOzMJjn1pBeICq3htvRb2KzeevA/wCbgHLSfgnG551AIcTZ0C7IKnbm4oYR9gihfUbDc8VzsZHHA5KpFmYWl/DUrd/t/gmuX6WlyUh5J23t3K11atnUeVAVP9uHxiVfMCfFi6C3AZKDCF3gst0vP4jR9CGkT3VQvwbuiMJQAF6boLcIC9skMutHVegHdDnQArpbEc9x8XtBc5itx84oCj+evQyt65B7sRMC+OWb8vKgVw6sB5ViOeFfDJo57TgMEBJAhhGotHikbW9GitDONJAZ89ynsccFpYvzeMJVilWIV4TsBn+Z4FTHNvpkvmaMoGAC7hRWoMmRLwab43At4XWEgvu2ZdHHBpz1K3KQGf53sD4CwAeQgjJPIUy+29r/d8gCsKEClXAdP8SgArPI4u/tjlCu0R0wG+xPca4DTb8luEowkDrqe78ZdJ71Wh8g551t41vFcAk6nOAX+2hFcBfAYvK92NXlVKr8uT9uonics1wKL9k/ApIz83AVYHzwPY8SaXH/aGKjq/jPiUjvtXDSyzO+XI+Sbi9gfXTxn0rEXFp4UHS9tZwNnXUbDjh/E9AZifagoFMwEut7sAe5TzAykE+EOEa8qawsl/qjx/IhXxAkzEDxhXVVEJktQxv3siN+MnwogXYLJBrQMMOzCoGm0a2XcA3iDjXwIshDf4AauLsqRXpltyXm3cnSZHnxzxTwNOlc3xv4uAMT4MtyKR6jsgtOySx2vPt3uK/pY02Zt/H+BElsanRFzUV26M4YsqZ7XmaiDtAX+f0wNY4+sCTAJXaEKJ2eU9tl7A15NwO8AyIz8ImNHTNF0G7E3A/RA3AYwWXML5KmB+B627SJEFWIcRPWXISkt3F8TPAjbJUsx02v7/VBNoETCvnFRNWoONIohfsFT9wlpbMn4OsMKRtccy52hlDYpy8058NY53RtdkAS4+m8MvZWRDxK0AK31YMZtthusA04xxDMzfFezmiUXYDu3irdaIH7LifQixYzk4W3yViUwzF0fmyUC177TgeS6MU9PRBPFjgH39EOAoNdrJjJHBWTLgB021gKMNL2AFZMtMPQDgTf+DXq92OlcfBnhTAavZW2WiNCvD9rehJ+IxAMfPPFd7tIt5YtBSjmZTSrK5YUKy0IFBLZBjI8TNDjpwaIL5pYuxluLSJ9FB/nJz9p/Bif33n0XA+YjcAWpWcTUrGnsxfhywnXzNTOzdR/NBCmDxG7PBcCB7CUBeVrGogJXi+3nETwPGq2vxiIkr88L9682VZiGcKcz8Mw2KR+KfuSlwmW3iVFNY4WV5LDfsEXAL4KQRX9BughkCHD9KD7TXxwNYlAf8Jw775/g+/VuVQTIVhZVboXWZNSBkPJOkNgwY6Yd1l+2lzO6Y5WsBq1UU+lzUx66VjiDp0jdNAnZtlM4ATmW0w/Fn5MHy7U+1AhhPtqkN70BkR6GSpxLWwQ3YZ/7XARvrsUedfh3vyxU41cvI5L2AcY7+GcAAbzx/cKmzbnzvCoCsn+CpAjY9Og+4MeEHjaW4ibcQYOc2oQaw0U/mDP8i7Gr+NcDoMDLr8yXs12bdSCaMfoDm3y3wjpXKLOgkrgV/CTDtc34NVmZYKnQBRknEPqhyHlnMDDjl6P0aJEM/YF+VFfKkDyYc5WMti9QAzkz9OGDW5QJgCOCDAGeC7Gk+AJooR/MXSSVv+P2gPAuYTKkWPW5tpRsiQx/h4wBcSNFh/5NDCh2miV8DHIoRfOMi/EGAsytoDa7B7LTyuCS3MnZq+dW9jH7UVmkLqtxzKYNlDtMmFmOawHMfUMVsAOYqFuD/ci9gkVJBANuAQzZMWEKAI+V9OE7Mvw34wxqyKa/TBkagb/qpkA4q4CNWeVjmcHli/k3AegiTyT0FWMF3FrAI4W8NxW5FTwU3LUf/PODtdBldDOASYDuEtZKKAMOoUHn/C4A/HwTY/7glwDAQZRfQrodwvGahG3dgDkfFvRkBf6KwhvsAB1EMl14BWgnkt/IcTeEuwEz9V/8nB8xW3LsA74dYegelXKYNiXDIDzJiGwXs85Tfmhqw3IX6H5eX0bT1UK920ACH/M/TIkvpaNw+Fb0uAm5IuCXgPHivhzDeg5lvjgR8CAGM4GaNtY7mtxTFD8qjlvAU6Z+K6tDV92eMQfgO7aKcg2xkETYIXAJMkkI7wk8aAvN0K+CcxUciwoA/YujRkhosB9RWfZUF+X4KwGimHgEcSoeUx12lCtjyb5Qq11bcmj8cfN0mAXz+nlvhxookcptLBCx0qA0VbslyLEc7IeBSMWndq1AYyamdKWCo+SM20RUuycIaxO0CXKtQRmZRqw646o+kuB0ewignTwkYAin0cunj62taWm2tBsUrgPMQhiuu5k8LaQEYVjyil1efVARPyLoAjp79DGBB9iJg+JLkB40hRbkcXwBcRZjseLLYVa13ItwEMLkFeskRZFyAd6MQNkcPOJ0WRC9gsZXNEzN8Jv1WC3nWqitThQpBRliF9e13N2CZ+0VBUHxMQ/1z0h6wm2C6Z86N+JJBP7DwAzbeTAJYffOGWYRbA4aErf7G7a+kCosbgV19i7ALsJVXxCbJzkLPSXPAJq0TgPPzZTJEI2wpMiyKHB1pOQAXl5nn5GnAdWvRScC4F5hMWm9rbdAkOBjTNwYDLcIPG30csJV1VYgwlpyLMAhGHK01T/GgvDyCZYXF7QfePeZWALgUwhk7NYQr6q4W8u41+KN/P3SMJG2kd3WOJtzekqMfPuiQd8wq4xTgDS63xOIh9Esjf44GFZKeo9V70wEGdW2hjqwEnLKqpZYT1tSqOTq5TXd0tSE8HeCN5bN9Qm4DDM8obWGAwQotjNK8TAa/IUc/DDiXdNcYUHH7I0LuVsBHjNK8nI+V3wQXnC5msAekEWB6t3KAMkTskBxzZ544C8DSF15Bu0MYvuotpH0VzR+cXFQAljtgx+wVAbPf3EPu5maqAZvePSEdAOuEjTpJ3EJ8y0Fsf2eUtSoLrJKzcYoeYhF+2GJdCF8CHJOmNYtOwHm8ScDAMbxrFgYWYLcajW+hnLZONslfo6fk7Cog5JryI4DL9eU5wDhBx486YhXw/zHxXMxKvA4Hvxp+GbAC9QJgNMNIIOBY2pW+cOAbJdiXJgBteCtpDpgnr1OAyzskDbFSeu+95U5YcUXUxNlZyIkE8KA8bpDOgtwGBSplJZu6QyrciUOlbdiqIwKuRqghQ118kAbSDjCoTIMUqIHfhwnah1gUyoG3FnM09nPPynILhUYb7/Ld8ryZ9MprcUv7AgU2hmNRl5MGpjEvlJXNl+2O/hpyc7KbJ1ndLS0AgweS0bzxz0xJ+qxX0Cbir8UMMLJTBqzX0fIZQYf5UjR+5ZVMpr7fJmBa2cJpPST/ghE568rRyBh6SpmxkMmHpYHNQrHhBEwKIXsLrCA+Butebb4cnWvNjCg9sVeg8zMoOgEmUVfq+23Ymwp8wUzx6Dct+XI0I6bgy18FaCzv+mLAxQODQtejJcUgPqPUht8PmNLQ4chXAcuT6fs1gHeS5hYYj64GbP3++ybi1YDjW3ifXZ1fBHgL6B9hyLYnyjxhwL4Qhj15+Br+9sbbBrCyI0SN9rMCwOHYAuuDTwEmWzhRtqHnAHb7JufdwqPaDyNgd3oGsPg1rAyBPlPnIjgnjAF/t9Saq3/+lN7XBlun9oCPxyrnUyGfQ2T3CsC+RbgEmHsijFpJJXr8/PS32XuzAwFjxfQBRmFolDpMBb3Nx5UB/78WrxrrkDKL3qNNcLUwkk1mIKz1nvxuFjTZzNJyp2D8T0AEs4EewPJN4+5mmUXp0GbmmwLmj4UeUgWcCqw0tcUtsGwB0Q8AR8KgysrYYsJ8l4yfRvP2bmn1HgX0WEHOj5HS0nQeM6xNJFVSCdgIYZJCPspvePHHhBUmfsgnpBlg9FhgfkLQio98NkF+1JP/PYA/H453g4TlW8x5t8TbFLC4KaJwMwCTuQyBzLMwoSdJAVgaQ4Ah3k2+osh36ktbvM0Ao9R7pFkzodHesVNAUawcQFiA0etEFmFOlgFFL5lBuD3fhoC5pWO2jHy61zlxomknNOG5PVgl09cE78gjYJOt0He4CgDHPVNrvO0Ay8eOM0aeGwJmR5Sxj0U434syq1uEiyf86EPh4pkSiQU9aogPgl19UtqZVBLhZuTT9OajeYxajCAWAbqvCjrd6BqLXa03eE9l1yB+YauZtATMJxr8pS7fJwfZG+ixgjjI/kFJpVwpc9HoWziXbr43yi03NCVOC7ImuBwes4ITdK5JPRRGgLEioLP43b/WGXmhtz4qLe2mhwTRgbNmSAWzUHJcl6ZXA1xmpmqBvc0vHnrxbQyYVEd5w9EOCesJ+ntdDOLcqh+wokXpbS8U2tjnpe2pClhSt3zuMGIDSp7DtRkmVh2AA/8jNKtz7K2Z7xq+W2PAxyyxySgc9dgJOuuDpzjUAY67Muw66h21Kx2M6H9eWgMmRROsZjliO0HTbmiO1QyNN6xx0dfUgO7cTdIDuN1SGlv+vs/HROODJJrUPhSw0LbRnshk1q40ZYZl2Q77Jj9zwqCHMriZtLYcYgqMiKUL+V0jqaJQh4cMqV1p4kZrXgY9hDONv1FFfw3+PWuBcLpNp40Dzq8+O2CZdrMOSpPwo5CjyZ5OCWES3z8EeJePBzE48CI9pEa5hFtRuSVGIBsofVPvtLvLHSD+d11+v350s5xKHmUS+BZYplSh7hhGuuU9hIkNH7GUXoaQewBCeITkvNvvZzoRVgpg/h8lLCbo2EJyb95FWDh44XQg7ZHeDGIaNMTqu9vvafwjRXaIEaPm3qgqNaGXQilzaTTqnUMg3TPtgYVwvvr+cIr+L4DwhzfHHEpTqcF3wxsUxEzTR39vJ3VmalOKzwaRFfrHAUPCH9r491EgphMng5+F2tGJdyGVMXeM3iVV8Za9GCll7yvKIMn5K73fr1RGCcYsoFPNKk5HUHaXSyvTppfbUeVGAcMfpKD+AoYKe0lPJ5TqdcdFqOUdZVEE+dKcuuFfx2JDmM5NB5zU5HfBMt9b+gFGc7zxpJ13pkP5EKE8mgj779dHZCgJbMUczTJv4G/dtuej8pM3lV6AMd0/QQWXSKdq7j06ZB/3lXH/wSthNGYrAU5qUgjLzDKCdARstHK+fN7o6wETNNOWAVZ02oAzi7zaoy6NRngwd6KQelTyzYMYltBc14aqaGpS2XgdxoKCMlb1co0eQQZzJ0qc1niVt5HtpwAM+NYDzkKYEuVOUU+HIzyWN0nSZMpyiIYSCmBymW+7rH5oGKnEFZSsWlyAPZJNqqhcyGSCX6/hM3wBsGCHUPJycSzCQzmThFQx1gRKwKJ8OwH4eHE+vIf0ROwG9O1BFxnJlySpsNlKKZDX2zCAKwCnGtnefe2XkvkC7BC2urEilvYVRyKbbKcflK4hE9gf1WUA71hJeiBXkuR7VRLGYPLYXzbI8CGAQ1nIQPHtxGbcyFaVM0/9jAzkShQwbRljMcfk92Eh3wTYJMz94GdpvBO9zq8GIjyOJ0lQIswZy76JsB7A9V8FkLwg80fI63sOu8bOozKOJ1HQ7IRsiukkf38eQQzG3gWYOceIw/duBBnGkSTK5ETGJBXGvgdhPuxiBJd+9U51tsbQkzKMI1GsueHrZd6XVdP5bfnRJ2hAXCo2ebTFu40go/gRBU4Xbc+WZNKkAs6kyhcNcPAAHmRmB3EjimNi8vWYNMAymQHWKmgo8JU41onv5wvP0UYGceMQ37ywRH3I7YDxYVZI2UP1Vhygd5MxvIhknbMCCeMUbKToY7xuVGoM5UF76+SAYYgV+teUJhKxssTSkGQtxwfNCteZqzCiN9jh3VSecULJoY4x521oNRRPu9n9+Ek1QnUSB+Go3MzcgPMf7kGVU0KgfTgLfcTx0e67xXNut3/Jm3FCeCDA9RPCyiHrS0MwptA36U3XZW9ynbUv7CMyEOAz0/GdVAnYcVrClaBu9DezHJ7kDlRnpEdkHMAnpyNxcAUw6gAAk5VdPc2wVNQXIc/Ic0XWVg34grFavsUe+bcYRb7wDRmkznrIA7HOOUZcMfZ3hlGjrJxxvz/3wxFdJXxQWmx1lcccqAR8LZuFj/1HC9Cged8FWNZr6fZRZ/ke4Dl50oGaKL46E3SqPdpswnvr51iDRX8FbpavxwjhZ+2rsyA73mbLq80BOB5vMsDGY+W3hwjh5+17EN9SbqZp92lTeiXA2fF1xsp6Z2nDECHcxnx5l3GbGf+yoPQ7AJOvJ/Zzi6S+FL35qNrHuFVaWQezWVUTVZhxT6mWZP/+n337ROhuyGVYbfU/7WhmHT5+bLrVTE3tTj2JF+LbRZb7wduK7FYsGE9JQ+MogdEPt5nxKtQAgy+PyQBYUmNXeq/CLY3TWXiI71aFmOyJ4i2VLwZsFdTdCbe1LWpM8uFWOz7GELCKFw6w90vd66zGprNnrTmUOGXIM68IsMV3f4D8KSy8W//NcGvTgXN97vX2MBaAg/K7lHkH4ryy1aL5qSPh5pb5PuPJZy/vigngvbfJ9/sAx7Ai3h8EfBBW95O3W7MgJ19SvwLgtLrqeMW2qx/hDobzZaxJ/WEgzkIx9igBNl8aef/3AOfLWLMHV3lsYrEuAtZXd3S/8YNy6WI3LmMtHxsy2Q8TSYMPsHIbnmZtjVIVkj5m0zJW6uTa7LiNKjboPQ9gRb9Rcv0W4J2wHgdEbrSKTPFejjUY3lQcDX0Jd6zf2YxIsLf7RlSqNs4ANtztsRzl5rtY/Zqm5wsC6yNHmNQe7FTeJsk7xtsYK8o+hMeIYDhDT0xIVjWr2qsB28nmKDY6lVl9AacjJNjBp6XeqD2oeJIlVdomN/KwjaXfBjxkBaZxCGHrqJ02z+JuA8aVg2kSDGsnXQHbp8XFKTmHt6i4/F0D1VhQmL3JPaSb3VAmXNZwBu9VwExjUWHo+4tZPffBaXJOTEAI2kbasBg/Wz0twJCvqa/f6rvb72U3C+HtBOFjWK25/crqW/y6P6l06OvMty/g84Q9scOM0RtGb+v3dSBf0/m+eLsWWecJp8n1DAJJ0jKm/0IHRUqTtWG87OGTMgDg6o0EDR6PHdGvAFjThDww9XXOz9swBx3p/10j8WfNyv5T1UFFA5wvuegwS7P+s4BBkj6lRGs4TCRrzLgyUP/XmOIHMFY5i+v9dw1dAW95CJfPH1QliupC6awStn/lXY1JCP30U90n3QEH/rFaiaa4UDqfAqx7ibL2AH971vffquSEz+mAasHUOpdhC7C9H/I40Vx6v1+XZ0CPYHTbuDzEKLJMZ/nGKQywR9q6A746BypJpehx2DYBF3yhn0fgOwLgCy7gqHIvlLBfeZuke0P6DsH33YBhmQrKKzqgYF0H7PAnmRlg+f2T7k6cn4e0i2Y3jehxEL4EOBw6R+H7YsBZAU7uZTtrOEpTc0jhT78LPu0ujIL3xYDTOHxEXEU4vwcBewOykEA6SH9Hzk0GQRlviY0KGoh0ZXcR4NIWiRkdiO9LAdPpjiuf6zBS3TjvnwFgWMwpjumG+0h/V05Mh4hVvEn1A85VSsComNMcu+Ps5lbp70v9fKBSGMelMlzT+tcgAINiTlUwUPm8ywDOVM4ISsU1saqC2vVwwKia04cPhveFgP18DZKGbvmPx4tqThu7nUlHT8sA/tQC5oPVL9WrAf+po4BlNaeNG5Pv+wCLsd+JxY3qKEPlJ//H40U1V3BjgOlkMoBH56cFHWaRZnWcqTRmfbAcaH6g3kPIAC6dnpc80JQO6khL66FbElO3WNuofF8MmExodQhby3BU79taj5ue/8sAXp0+qyyWP2ZRpDflJoohPPDy+ycDuOU9Y7TG1AI2bND3pgR4dL4jAnYsZt7qx1ahNRiKJfCQ/RhRBnCMJ9siYO/iWDSr3Dd6wVdx0PLqKwN4ls8PLl71/tnNU3ZhzWRYY9vi8fkOBTgEB1+l+SxgJIZBsEAPjXckwGl+/1/qCdRVTzkS/WGmBJj4kjW/g+8IgLdwHB6FNGlanDpKI1ci2NSgh/mfrSHJk9H5jgKYItHDtLi58bElQxy3SdyyV9FhqaeM4J+MuKD8bZF9/lQB9xjivZ29e7kn4/MdCbB5R6t52YiaCa8BvCWk6aLOXCcZwUNMk8aHC2+t2brbkXTsFRkAAAN0SURBVPCb+A4KOGbcrEdh+ImDjtr7qdjfr2tN9pARnESAyC2zuPr2fB7wdhh6Fd+hAe+zWMT7/VRvte7+RnLFW/gOC/gopK30mzc1AQx2dMPLCH7CHFucStrUCPCZar2vDOEoAZydZbnxtgP8OhniabIQjqtuIVBY0wkqC3A7iYADlRoNJ4zepmpkGeJpAo/b6lXuvgy9AD8gEHClhnqbt6kaWoZ4Ggm4dpoXYE2GeBoOeKue5vpzaKN8q1M1uAzxNBFqlpqfXIML9Xner0btkDLEE6CVt2puKzub4Mg3HENMzyUZ4glQXfUU4CK2+LXgDHgHAQy/T3hkG+zA9qYvex0yxlNYgD0z7YThisrCF1hvkzGeQwfszJS+Pk5Vs2TnPxnjQeCMBuVfR8IKPCacqibCOzhg/1SXOv4q3uEB12iw1f8m3qEBV+9uDeUeTXOtvYcM8kDXAWu9fxvv2IBvIFyFt8bYa2SQp7oHMO++8A4O+Brhhfe/DPJkJcDuM4r888K7jQ6Y/KJWjZqqUyu/my+UQZ5OB1x3chhCxYgfwDsMYLDa1qCSo5w9a1S/U0Z5RDLXIVRF4jl7P4F3aMDy/o3WfgTvoIAd96/Z+hm84wMmv0FzC5efwjsSYDWEb12RfwzviwDfZeW38A4F+PFV+AfxjgPYCuHbDPwe3p8B/BOHVlCGeWgVwA1cfhfvQIBRCCv1VSWvH6a7jQsY741ObJh+G+9ggAO9IqeV5zbDv453XMCs4dxueOEdCXDpO+Ez+n4e72iAb6yjF96vDDQHdwJeeA8ZaRZuO+tYeJOMNA/3hPAvn2oAGWkmMJgTpxojPVRvGWkuBJra7dGiK2Wo6cjxnIO78HIZakIE4JqBiy6UoebkDKOTh1w/I0PNSyWn00eYvyRDTU39irvYlmSo+XHxWmyrZKhJKkFbbOtlqJkyyC22J2Wo6TKOshbbkzLUnBlHWUP5+SYZauLwSdZQLr5Ohpq9neZie6MMNYUhLLZ3y1DzuNjeL2syJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnlwV4clmAJ5cFeHJZgCeXBXhyWYAnl38/Nn6R56jYvQAAAABJRU5ErkJggg==" /><!-- --></p>
</div>
<div id="to_spatial_simple" class="section level3">
<h3>to_spatial_simple</h3>
<p>The <code>to_spatial_simple()</code> morpher removes loop edges from
the network and merges multiple edges into one. Loop edges are edges
that start and end at the same node. Multiple edges are sets of edges
that connect the same pair of nodes. The morphed state contains a single
sfnetwork. See the <a href="https://luukvdmeer.github.io/sfnetworks/articles/sfn02_preprocess_clean.html#simplify-network">Network
pre-processing and cleaning</a> vignette for more details and
examples.</p>
<p>In the same way as <code>to_spatial_contracted()</code>, the
<code>to_spatial_simple()</code> morpher gives the option to specify how
attributes from merged edges should be inferred from the attributes of
the set members. The geometry of a merged edge however is always equal
to the geometry of the first set member.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># Add a flow attribute to the edges.</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="co"># When merging multiple edges, we want the flow of the new edge to be:</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="co"># --&gt; The sum of the flows of the merged edges.</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>new_net <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">flow =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>), <span class="fu">ecount</span>(net), <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="co"># Select a set of multiple edges to inspect before simplifying.</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>a_multiple <span class="ot">=</span> new_net <span class="sc">%&gt;%</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">edge_is_multiple</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a>new_net <span class="sc">%&gt;%</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">edge_is_between</span>(<span class="fu">pull</span>(a_multiple, from), <span class="fu">pull</span>(a_multiple, to))) <span class="sc">%&gt;%</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a>  <span class="fu">st_as_sf</span>()</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; Simple feature collection with 2 features and 5 fields
#&gt; Geometry type: LINESTRING
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 4150715 ymin: 3207067 xmax: 4150752 ymax: 3207108
#&gt; Projected CRS: ETRS89-extended / LAEA Europe
#&gt; <span style="color: #555555;"># A tibble: 2 × 6</span>
#&gt;    from    to name         type                                   geometry  flow
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>                          <span style="color: #555555; font-style: italic;">&lt;LINESTRING [m]&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span>
#&gt; <span style="color: #555555;">1</span>   118   119 <span style="color: #BB0000;">NA</span>           service (4150716 3207080, 4150715 3207108, 415…    68
#&gt; <span style="color: #555555;">2</span>   118   119 Pienersallee service      (4150716 3207080, 4150752 3207067)    34
</CODE></PRE>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># Simplify the network.</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="co"># We summarise the flow attribute by taking the sum of the merged edge flows.</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="co"># For all the other attributes we simply take the first value in the set.</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>simple_net <span class="ot">=</span> new_net <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>  <span class="fu">convert</span>(</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>    to_spatial_simple,</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>    <span class="at">summarise_attributes =</span> <span class="fu">list</span>(<span class="at">flow =</span> <span class="st">&quot;sum&quot;</span>, <span class="st">&quot;first&quot;</span>)</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a>  )</span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a><span class="co"># The multiple edges are merged into one.</span></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="co"># The flow is summarised by taking the sum of the merged edge flows.</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a>simple_net <span class="sc">%&gt;%</span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">edge_is_between</span>(<span class="fu">pull</span>(a_multiple, from), <span class="fu">pull</span>(a_multiple, to))) <span class="sc">%&gt;%</span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a>  <span class="fu">st_as_sf</span>()</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; Simple feature collection with 1 feature and 6 fields
#&gt; Geometry type: LINESTRING
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 4150715 ymin: 3207067 xmax: 4150752 ymax: 3207108
#&gt; Projected CRS: ETRS89-extended / LAEA Europe
#&gt; <span style="color: #555555;"># A tibble: 1 × 7</span>
#&gt;    from    to name  type                    geometry  flow .tidygraph_edge_index
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span> <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>           <span style="color: #555555; font-style: italic;">&lt;LINESTRING [m]&gt;</span> <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #555555; font-style: italic;">&lt;list&gt;</span>               
#&gt; <span style="color: #555555;">1</span>   118   119 <span style="color: #BB0000;">NA</span>    servi… (4150716 3207080, 415071…   102 <span style="color: #555555;">&lt;int [2]&gt;</span>
</CODE></PRE>
</div>
<div id="to_spatial_smooth" class="section level3">
<h3>to_spatial_smooth</h3>
<p>The <code>to_spatial_smooth()</code> morpher creates a smoothed
version of the original network by iteratively removing pseudo nodes. In
the case of directed networks, pseudo nodes are those nodes that have
only one incoming and one outgoing edge. In undirected networks, pseudo
nodes are those nodes that have two incident edges. Connectivity of the
network is preserved by concatenating the incident edges of each removed
pseudo node. The morphed state contains a single sfnetwork. See the <a href="https://luukvdmeer.github.io/sfnetworks/articles/sfn02_preprocess_clean.html#smooth-pseudo-nodes">Network
pre-processing and cleaning</a> vignette for more details and
examples.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>smoothed_net <span class="ot">=</span> <span class="fu">convert</span>(net, to_spatial_smooth)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">main =</span> <span class="st">&quot;Original network&quot;</span>)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="fu">plot</span>(net, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">cex =</span> <span class="fl">0.8</span>, <span class="at">lwd =</span> <span class="fl">0.1</span>, <span class="at">main =</span> <span class="st">&quot;Smoothed network&quot;</span>)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="fu">plot</span>(smoothed_net, <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" width="50%" /><img src="data:image/png;base64,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" width="50%" /></p>
</div>
<div id="to_spatial_subdivision" class="section level3">
<h3>to_spatial_subdivision</h3>
<p>The <code>to_spatial_subdivision()</code> morpher creates a
subdivision of the original network by subdividing edges at each
interior point that is equal to any other interior or boundary point of
other edges. Interior points in this sense are those points that are
included in a linestring geometry feature but are not endpoints of it,
while boundary points are the endpoints of the linestrings. The network
is reconstructed after subdivision such that connections are created at
the points of subdivision. The morphed state contains a single
sfnetwork. See the <a href="https://luukvdmeer.github.io/sfnetworks/articles/sfn02_preprocess_clean.html#subdivide-edges">Network
pre-processing and cleaning</a> vignette for more details and
examples.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>subdivided_net <span class="ot">=</span> <span class="fu">convert</span>(net, to_spatial_subdivision)</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="co">#&gt; Warning: to_spatial_subdivision assumes attributes are constant over geometries</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="co"># Original network.</span></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Number of edges: &quot;</span>, <span class="fu">ecount</span>(net))</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Number of edges:  851&quot;</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Number of components: &quot;</span>, <span class="fu">count_components</span>(net))</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Number of components:  14&quot;</span></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a><span class="co"># Subdivided network.</span></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a><span class="co"># The whole network is now a single connected component!</span></span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Number of edges: &quot;</span>, <span class="fu">ecount</span>(subdivided_net))</span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Number of edges:  876&quot;</span></span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Number of components: &quot;</span>, <span class="fu">count_components</span>(subdivided_net))</span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Number of components:  1&quot;</span></span></code></pre></div>
</div>
<div id="to_spatial_subset" class="section level3">
<h3>to_spatial_subset</h3>
<p>The <code>to_spatial_subset()</code> morpher takes a subset of the
network by applying a spatial filter. A spatial filter is a filter on a
geometry list column based on a spatial predicate. The morphed state
contains a single sfnetwork. We can use this for example to spatially
join information <em>only</em> to a spatial subset of the nodes in the
network. A tiny example just to get an idea of how this would work:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>codes <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>  <span class="fu">st_make_grid</span>(<span class="at">n =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>  <span class="fu">st_as_sf</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">post_code =</span> <span class="fu">seq</span>(<span class="dv">1000</span>, <span class="dv">1000</span> <span class="sc">+</span> <span class="fu">n</span>() <span class="sc">*</span> <span class="dv">10</span> <span class="sc">-</span> <span class="dv">10</span>, <span class="dv">10</span>))</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>points <span class="ot">=</span> <span class="fu">st_geometry</span>(net, <span class="st">&quot;nodes&quot;</span>)[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)]</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>net <span class="sc">%&gt;%</span></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a>  <span class="fu">morph</span>(to_spatial_subset, points, <span class="at">.pred =</span> st_equals) <span class="sc">%&gt;%</span></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a>  <span class="fu">st_join</span>(codes, <span class="at">join =</span> st_intersects) <span class="sc">%&gt;%</span></span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a>  <span class="fu">unmorph</span>()</span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a><span class="co">#&gt; Subsetting by nodes</span></span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; <span style="color: #555555;"># A sfnetwork with</span> <span style="color: #555555;">701</span> <span style="color: #555555;">nodes and</span> <span style="color: #555555;">851</span> <span style="color: #555555;">edges
#&gt; #
#&gt; # CRS: </span> <span style="color: #555555;">EPSG:3035</span> <span style="color: #555555;">
#&gt; #
#&gt; # An undirected multigraph with 14 components with spatially explicit edges
#&gt; #
#&gt; # A tibble: 701 × 2</span>
#&gt;            geometry post_code
#&gt;         <span style="color: #555555; font-style: italic;">&lt;POINT [m]&gt;</span>     <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>
#&gt; <span style="color: #555555;">1</span> (4151491 3207923)        <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;">2</span> (4151474 3207946)      <span style="text-decoration: underline;">1</span>020
#&gt; <span style="color: #555555;">3</span> (4151398 3207777)      <span style="text-decoration: underline;">1</span>020
#&gt; <span style="color: #555555;">4</span> (4151370 3207673)        <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;">5</span> (4151408 3207539)        <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;">6</span> (4151421 3207592)        <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;"># ℹ 695 more rows</span>
#&gt; <span style="color: #555555;">#
#&gt; # A tibble: 851 × 5</span>
#&gt;    from    to name                  type                                geometry
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>                       <span style="color: #555555; font-style: italic;">&lt;LINESTRING [m]&gt;</span>
#&gt; <span style="color: #555555;">1</span>     1     2 Havixbecker Strasse   residential (4151491 3207923, 4151474 32079…
#&gt; <span style="color: #555555;">2</span>     3     4 Pienersallee          secondary   (4151398 3207777, 4151390 32077…
#&gt; <span style="color: #555555;">3</span>     5     6 Schulte-Bernd-Strasse residential (4151408 3207539, 4151417 32075…
#&gt; <span style="color: #555555;"># ℹ 848 more rows</span>
</CODE></PRE>
<p>If you want to apply the spatial filter to the edges instead of the
nodes, either activate edges before morphing, or set
<code>subset_by = &quot;edges&quot;</code>.</p>
<p>For filters on attribute columns, use
<code>tidygraph::to_subgraph()</code> instead. Again, a tiny fictional
example just to get an idea of how this would work:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>net <span class="ot">=</span> net <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;nodes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">building =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="fu">n</span>(), <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a>net <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>  <span class="fu">morph</span>(to_subgraph, building) <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a>  <span class="fu">st_join</span>(codes, <span class="at">join =</span> st_intersects) <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>  <span class="fu">unmorph</span>()</span></code></pre></div>
<PRE class="fansi fansi-message"><CODE>#&gt; Subsetting by nodes
</CODE></PRE>
<PRE class="fansi fansi-output"><CODE>#&gt; <span style="color: #555555;"># A sfnetwork with</span> <span style="color: #555555;">701</span> <span style="color: #555555;">nodes and</span> <span style="color: #555555;">851</span> <span style="color: #555555;">edges
#&gt; #
#&gt; # CRS: </span> <span style="color: #555555;">EPSG:3035</span> <span style="color: #555555;">
#&gt; #
#&gt; # An undirected multigraph with 14 components with spatially explicit edges
#&gt; #
#&gt; # A tibble: 701 × 3</span>
#&gt;            geometry building post_code
#&gt;         <span style="color: #555555; font-style: italic;">&lt;POINT [m]&gt;</span> <span style="color: #555555; font-style: italic;">&lt;lgl&gt;</span>        <span style="color: #555555; font-style: italic;">&lt;dbl&gt;</span>
#&gt; <span style="color: #555555;">1</span> (4151491 3207923) TRUE          <span style="text-decoration: underline;">1</span>020
#&gt; <span style="color: #555555;">2</span> (4151474 3207946) FALSE           <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;">3</span> (4151398 3207777) FALSE           <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;">4</span> (4151370 3207673) FALSE           <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;">5</span> (4151408 3207539) FALSE           <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;">6</span> (4151421 3207592) FALSE           <span style="color: #BB0000;">NA</span>
#&gt; <span style="color: #555555;"># ℹ 695 more rows</span>
#&gt; <span style="color: #555555;">#
#&gt; # A tibble: 851 × 5</span>
#&gt;    from    to name                  type                                geometry
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>                       <span style="color: #555555; font-style: italic;">&lt;LINESTRING [m]&gt;</span>
#&gt; <span style="color: #555555;">1</span>     1     2 Havixbecker Strasse   residential (4151491 3207923, 4151474 32079…
#&gt; <span style="color: #555555;">2</span>     3     4 Pienersallee          secondary   (4151398 3207777, 4151390 32077…
#&gt; <span style="color: #555555;">3</span>     5     6 Schulte-Bernd-Strasse residential (4151408 3207539, 4151417 32075…
#&gt; <span style="color: #555555;"># ℹ 848 more rows</span>
</CODE></PRE>
</div>
<div id="to_spatial_transformed" class="section level3">
<h3>to_spatial_transformed</h3>
<p>The <code>to_spatial_transformed()</code> morpher temporarily
transforms the network into a different coordinate reference system. An
example of a situation in which this can be helpful, is the usage of the
spatial edge measure function <code>edge_azimuth()</code>. This function
calculates the azimuth (or <em>bearing</em>) of edge linestrings, but
requires a geographic CRS for that.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># Azimuth calculation fails with our projected CRS.</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="co"># The function complains the coordinates are not longitude/latitude.</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>net <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">azimuth =</span> <span class="fu">edge_azimuth</span>())</span></code></pre></div>
<PRE class="fansi fansi-error"><CODE>#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `stopifnot()`:</span>
#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `azimuth = edge_azimuth()`.
#&gt; <span style="font-weight: bold;">Caused by error in `st_geod_azimuth()`:</span>
#&gt; <span style="color: #BBBB00;">!</span> st_is_longlat(x) is not TRUE
</CODE></PRE>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># We make it work by temporarily transforming to a different CRS.</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>net <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>  <span class="fu">activate</span>(<span class="st">&quot;edges&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>  <span class="fu">morph</span>(to_spatial_transformed, <span class="dv">4326</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">azimuth =</span> <span class="fu">edge_azimuth</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>  <span class="fu">unmorph</span>()</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE>#&gt; <span style="color: #555555;"># A sfnetwork with</span> <span style="color: #555555;">701</span> <span style="color: #555555;">nodes and</span> <span style="color: #555555;">851</span> <span style="color: #555555;">edges
#&gt; #
#&gt; # CRS: </span> <span style="color: #555555;">EPSG:3035</span> <span style="color: #555555;">
#&gt; #
#&gt; # An undirected multigraph with 14 components with spatially explicit edges
#&gt; #
#&gt; # A tibble: 851 × 6</span>
#&gt;    from    to name                  type                        geometry azimuth
#&gt;   <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #555555; font-style: italic;">&lt;fct&gt;</span>               <span style="color: #555555; font-style: italic;">&lt;LINESTRING [m]&gt;</span>   <span style="color: #555555;">[rad]</span>
#&gt; <span style="color: #555555;">1</span>     1     2 Havixbecker Strasse   residenti… (4151491 3207923, 415147…  -<span style="color: #BB0000;">0.670</span>
#&gt; <span style="color: #555555;">2</span>     3     4 Pienersallee          secondary  (4151398 3207777, 415139…  -<span style="color: #BB0000;">2.91</span> 
#&gt; <span style="color: #555555;">3</span>     5     6 Schulte-Bernd-Strasse residenti… (4151408 3207539, 415141…   0.203
#&gt; <span style="color: #555555;">4</span>     7     8 <span style="color: #BB0000;">NA</span>                    path       (4151885 3206698, 415186…  -<span style="color: #BB0000;">0.968</span>
#&gt; <span style="color: #555555;">5</span>     9    10 Welsingheide          residenti… (4151732 3207017, 415172…  -<span style="color: #BB0000;">3.12</span> 
#&gt; <span style="color: #555555;">6</span>    11    12 <span style="color: #BB0000;">NA</span>                    footway    (4152152 3206984, 415214…  -<span style="color: #BB0000;">3.10</span> 
#&gt; <span style="color: #555555;"># ℹ 845 more rows</span>
#&gt; <span style="color: #555555;">#
#&gt; # A tibble: 701 × 2</span>
#&gt;            geometry building
#&gt;         <span style="color: #555555; font-style: italic;">&lt;POINT [m]&gt;</span> <span style="color: #555555; font-style: italic;">&lt;lgl&gt;</span>   
#&gt; <span style="color: #555555;">1</span> (4151491 3207923) TRUE    
#&gt; <span style="color: #555555;">2</span> (4151474 3207946) FALSE   
#&gt; <span style="color: #555555;">3</span> (4151398 3207777) FALSE   
#&gt; <span style="color: #555555;"># ℹ 698 more rows</span>
</CODE></PRE>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
